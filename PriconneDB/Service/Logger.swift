//
//  Logger.swift
//  PriconneDB
//
//  Created by Kazutoshi Baba on 2019/04/30.
//  Copyright ¬© 2019 Kazutoshi Baba. All rights reserved.
//

import Foundation
import SwiftyBeaver

let log = SwiftyBeaver.self

struct Logger {
    static func setup() {
        #if DEBUG
        configureDebugLogging()
        #else
        configureReleaseLogging()
        #endif
    }
}

private extension Logger {
    static func configureDebugLogging() {
        let console = ConsoleDestination()
        console.format = "$DHH:mm:ss$d $L $M"
        console.minLevel = .debug
        console.levelString.verbose = "üê∑"
        console.levelString.debug = "üõ†Ô∏è"
        console.levelString.info = "‚ÑπÔ∏è"
        console.levelString.warning = "‚ö†Ô∏è"
        console.levelString.error = "üí•"
        log.addDestination(console)
    }
    
    static func configureReleaseLogging() {
        let console = ConsoleDestination()
        // Log to Apple System Log
        console.useNSLog = false
        console.format = "$Dyyyy-MM-dd HH:mm:ss.SSS$d $M"
        console.minLevel = .error
        log.addDestination(console)
    }
}
